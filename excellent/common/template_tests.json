[
  { /* no expression */
    "template": "Hi Bob",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "Hi Bob",
    "errors": []
  },
  { /* single literal */
    "template": "2 plus 3 is @(5)",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "2 plus 3 is 5",
    "errors": []
  },
  {
    "template": "Answer is @(2 + 3 - 1)",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "Answer is 4",
    "errors": []
  },

  /* variables */

  {
    "template": "Hi @CONTACT",
    "context": {"vars": {"contact": {"*": "Bob", "name": "Bob"}}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "Hi Bob",
    "errors": []
  },
  {
    "template": "Hi @contact.name",
    "context": {"vars": {"contact": {"*": "Bob", "name": "Bob"}}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "Hi Bob",
    "errors": []
  },
  {
    "template": "Hi @(contact.name)",
    "context": {"vars": {"contact": {"*": "Bob", "name": "Bob"}}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "Hi Bob",
    "errors": []
  },
  {
    "template": "@(X + Y + Z)",
    "context": {"vars": {"x": 1.23, "y": 2, "z": "3"}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "6.23",
    "errors": []
  },

  /* functions */

  {
    "template": "@(CHAR(9))@(CHAR(10))@(CHAR(32))@(CHAR(65))",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output":
    "\t\n A",
    "errors": []
  },
  {
    "template": "@(CLEAN(\"Hello \nwo\tr\rld\"))",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "Hello world",
    "errors": []
  },
  {
    "template": "@(CODE(\"\t\")) @(CODE(\"\n\"))",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "9 10",
    "errors": []
  },
  {
    "template": "@(CONCATENATE(\"A\", 1, TRUE))",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "A1TRUE",
    "errors": []
  },
  {
    "template": "@(FIXED(1234.5678, 1)) @(FIXED(1234.5678, 2)) @(FIXED(1234.5678, 0)) @(FIXED(1234.5678, -1)) @(FIXED(1234.5678, -4)) @(FIXED(1234.1234, 2)) @(FIXED(1234.5678, 3, TRUE))",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "1,234.6 1,234.57 1,235 1,230 0 1,234.12 1234.568",
    "errors": []
  },
  {
    "template": "@(WEEKDAY(d1)) @(WEEKDAY(d2))",
    "context": {"vars": { "d1": "15-08-2015", "d2": "16-08-2015" }, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "7 1",
    "errors": []
  },

  /* syntax errors */

  { /* unbalanced parenthesis */
    "template": "@(5 + (1 + )",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@(5 + (1 + )",
    "errors": []
  },
  { /* unterminated string literal */
    "template": "@(\")",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@(\")",
    "errors": []
  },

  /* evaluation errors */

  { /* unsupported old single function syntax */
    "template": "@SUM(1, 2)",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@SUM(1, 2)",
    "errors": ["No item called SUM in context"]
  },
  {
    "template": "@(0 / )",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@(0 / )",
    "errors": ["Expression is invalid"]
  },
  {
    "template": "@(1.1.0)",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@(1.1.0)",
    "errors": ["Expression is invalid"]
  },
  {
    "template": "@X",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@X",
    "errors": ["No item called X in context"]
  },
  {
    "template": "@(2/ 0)",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@(2/ 0)",
    "errors": ["Division by zero"]
  },
  {
    "template": "@(0 /0)",
    "context": {"vars": {}, "tz": "UTC", "day_first": true},
    "url_encode": false,
    "output": "@(0 /0)",
    "errors": ["Division by zero"]
  }
]